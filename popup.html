<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Link Extraction</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="app">
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M10.172 13.828a4 4 0 005.656 0l4-4a4 4 0 10-5.656-5.656l-1.1 1.1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="header-text">
          <h1>Link Extraction</h1>
          <p class="subtitle" id="tabCount" data-i18n="loading">Загрузка...</p>
        </div>
        <div class="lang-selector">
          <button class="lang-btn active" data-lang="ru">RU</button>
          <button class="lang-btn" data-lang="en">ENG</button>
        </div>
      </div>
    </header>

    <div class="controls">
      <div class="segment-control">
        <button id="listBtn" class="segment active" data-format="list">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
          </svg>
          <span data-i18n="list">Список</span>
        </button>
        <button id="csvBtn" class="segment" data-format="csv">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
          </svg>
          <span data-i18n="csv">CSV</span>
        </button>
      </div>
    </div>

    <div class="options-card">
      <label class="toggle-option">
        <span class="toggle-text">
          <span class="toggle-label" data-i18n="tabGroups">Группы вкладок</span>
          <span class="toggle-description" data-i18n="tabGroupsDesc">Отображать группировку вкладок</span>
        </span>
        <div class="toggle-switch">
          <input type="checkbox" id="groupCheckbox" checked>
          <span class="toggle-slider"></span>
        </div>
      </label>
      <div class="option-divider"></div>
      <label class="toggle-option">
        <span class="toggle-text">
          <span class="toggle-label" data-i18n="pageTitles">Заголовки страниц</span>
          <span class="toggle-description" data-i18n="pageTitlesDesc">Показывать названия страниц</span>
        </span>
        <div class="toggle-switch">
          <input type="checkbox" id="titleCheckbox" checked>
          <span class="toggle-slider"></span>
        </div>
      </label>
      <div class="option-divider csv-option"></div>
      <div class="toggle-option csv-option">
        <span class="toggle-text">
          <span class="toggle-label" data-i18n="csvDelimiter">Разделитель CSV</span>
          <span class="toggle-description" data-i18n="csvDelimiterDesc">Символ между значениями</span>
        </span>
        <div class="delimiter-selector">
          <button class="delimiter-btn active" data-delimiter="," data-i18n-title="comma" title="Запятая">,</button>
          <button class="delimiter-btn" data-delimiter=";" data-i18n-title="semicolon" title="Точка с запятой">;</button>
          <button class="delimiter-btn" data-delimiter="|" data-i18n-title="pipe" title="Вертикальная черта">|</button>
        </div>
      </div>
    </div>

    <div class="shortcut-card">
      <div class="shortcut-info">
        <span class="toggle-text">
          <span class="toggle-label" data-i18n="shortcutLabel">Горячая клавиша</span>
          <span class="toggle-description" data-i18n="shortcutDesc">Копирование выделенных вкладок</span>
        </span>
        <span class="shortcut-key" id="shortcutKey">-</span>
      </div>
      <button id="configureShortcutBtn" class="configure-btn" data-i18n="configureShortcut">Настроить</button>
    </div>

    <div class="output-container">
      <div class="output-header">
        <span class="output-title" data-i18n="result">Результат</span>
        <div class="copy-buttons">
          <button id="copySelectedBtn" class="copy-button copy-selected" style="display: none;">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9 11 12 14 22 4"></polyline>
              <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
            </svg>
            <span data-i18n="copySelected">Выделенные</span>
            <span id="selectedCount" class="selected-count"></span>
          </button>
          <button id="copyBtn" class="copy-button">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
            <span data-i18n="copyAll">Все</span>
          </button>
        </div>
      </div>
      <div id="output" class="output"></div>
    </div>

    <div id="notification" class="notification">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
      <span data-i18n="copied">Скопировано в буфер обмена</span>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
